<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>F1 Manager 2025 — Treino Livre</title>
  <link rel="stylesheet" href="practice.css" />
</head>

<body>
  <div class="practice-overlay" aria-hidden="true"></div>

  <div class="practice-root">
    <!-- HEADER -->
    <header class="practice-header">
      <div class="practice-header-left">
        <div class="practice-header-logo">
          <img id="teamLogoTop" alt="Logo da equipe" />
        </div>

        <button class="practice-btn btn-small-ghost" id="btnBackLobby" type="button">
          VOLTAR
        </button>

        <div class="practice-header-titleblock">
          <div class="practice-gp-title">F1 MANAGER 2025 — Treino Livre Oficial</div>
          <div class="practice-track-label">PISTA — <span id="trackName">Carregando...</span></div>
        </div>
      </div>

      <div class="practice-header-right">
        <div class="practice-hud-right">
          <div class="practice-session-label" id="sessionStatus">LIVE</div>
          <div class="practice-time-remaining" id="timeRemaining">60:00</div>
          <div class="practice-lap-info">
            <span id="bestLapLabel">Melhor volta geral:</span>
            <span id="bestLapValue">--:--.---</span>
          </div>
        </div>
      </div>
    </header>

    <!-- MAIN -->
    <main class="practice-main">
      <!-- LEFT: TRACK -->
      <section class="practice-left">
        <div class="practice-left-hud">
          <div class="practice-left-title">MAPA DA PISTA</div>
          <div class="practice-left-sub">SVG • pathPoints • 60fps</div>
        </div>

        <div class="practice-track-wrapper" id="track-container" aria-label="Mapa da pista"></div>
      </section>

      <!-- RIGHT: HUD -->
      <aside class="practice-right">
        <section class="practice-hud-panel">
          <div class="practice-hud-header">
            <div class="practice-hud-left">
              <div class="practice-panel-title">SESSÃO</div>
              <div class="practice-panel-subtitle">Treino Livre</div>
            </div>
            <div class="practice-hud-right">
              <div class="practice-hud-live" id="hudLiveTag">LIVE</div>
              <div class="practice-hud-time" id="hudClock">60:00</div>
            </div>
          </div>

          <!-- LISTA (fica no topo e mantém visual atual) -->
          <div class="practice-session-box">
            <div class="practice-session-topline">
              <span class="practice-session-small">Melhor volta geral:</span>
              <span class="practice-session-best" id="bestLapValue2">--:--.---</span>
            </div>

            <div class="practice-session-list" id="driversOnTrack"></div>
          </div>

          <!-- ✅ TELEMETRIA (NOVO) — ocupa o “campo vazio grande” sem mudar o mapa -->
          <div class="practice-telemetry" id="telemetryPanel">
            <div class="practice-telemetry-header">
              <div class="practice-telemetry-title">TELEMETRIA AO VIVO</div>
              <div class="practice-telemetry-sub">
                Fonte: <span id="telemetrySource">Piloto 1</span>
                • Modo: <span id="telemetryMode">NORMAL</span>
                • ERS: <span id="telemetryERS">--%</span>
              </div>
            </div>

            <div class="practice-telemetry-grid">
              <!-- COLUNA 1 -->
              <div class="tel-card">
                <div class="tel-label">Velocidade</div>
                <div class="tel-value"><span id="telSpeed">---</span> <span class="tel-unit">km/h</span></div>
                <div class="tel-bar">
                  <div class="tel-bar-fill" id="barSpeed"></div>
                </div>
                <div class="tel-mini">
                  <span>G</span><b id="telGear">-</b>
                  <span>RPM</span><b id="telRPM">----</b>
                </div>
              </div>

              <div class="tel-card">
                <div class="tel-label">Acelerador</div>
                <div class="tel-value"><span id="telThrottle">--</span><span class="tel-unit">%</span></div>
                <div class="tel-bar">
                  <div class="tel-bar-fill" id="barThrottle"></div>
                </div>
                <div class="tel-mini">
                  <span>Tração</span><b id="telTraction">--</b>
                  <span>Grip</span><b id="telGrip">--</b>
                </div>
              </div>

              <!-- COLUNA 2 -->
              <div class="tel-card">
                <div class="tel-label">Freio</div>
                <div class="tel-value"><span id="telBrake">--</span><span class="tel-unit">%</span></div>
                <div class="tel-bar">
                  <div class="tel-bar-fill" id="barBrake"></div>
                </div>
                <div class="tel-mini">
                  <span>Estab.</span><b id="telStability">--</b>
                  <span>Delta</span><b id="telDelta">--.-</b>
                </div>
              </div>

              <div class="tel-card">
                <div class="tel-label">Pneus</div>
                <div class="tel-value"><span id="telTyreWear">--</span><span class="tel-unit">%</span></div>
                <div class="tel-bar">
                  <div class="tel-bar-fill" id="barTyre"></div>
                </div>
                <div class="tel-mini">
                  <span>Temp</span><b id="telTyreTemp">--°C</b>
                  <span>Press</span><b id="telTyrePsi">--</b>
                </div>
              </div>

              <!-- COLUNA 3 -->
              <div class="tel-card">
                <div class="tel-label">Combustível</div>
                <div class="tel-value"><span id="telFuel">--</span><span class="tel-unit">%</span></div>
                <div class="tel-bar">
                  <div class="tel-bar-fill" id="barFuel"></div>
                </div>
                <div class="tel-mini">
                  <span>Consumo</span><b id="telFuelRate">--</b>
                  <span>Mix</span><b id="telFuelMix">--</b>
                </div>
              </div>

              <div class="tel-card">
                <div class="tel-label">Motor</div>
                <div class="tel-value"><span id="telEngineTemp">--</span><span class="tel-unit">°C</span></div>
                <div class="tel-bar">
                  <div class="tel-bar-fill" id="barEngine"></div>
                </div>
                <div class="tel-mini">
                  <span>ERS</span><b id="telERS2">--%</b>
                  <span>Stress</span><b id="telStress">--</b>
                </div>
              </div>
            </div>

            <div class="practice-telemetry-bottom">
              <div class="tel-sectors">
                <div class="tel-sector"><span>S1</span><b id="telS1">--.--</b></div>
                <div class="tel-sector"><span>S2</span><b id="telS2">--.--</b></div>
                <div class="tel-sector"><span>S3</span><b id="telS3">--.--</b></div>
                <div class="tel-sector"><span>Volta</span><b id="telLap">--:--.---</b></div>
              </div>

              <canvas id="telemetrySpark" width="920" height="88" aria-label="Gráfico ao vivo"></canvas>
            </div>
          </div>

          <!-- PILOTOS DO USUÁRIO (preserva estrutura atual) -->
          <div class="practice-user-panel">
            <div class="practice-user-panel-title">PILOTOS DA SUA EQUIPE</div>

            <div class="practice-user-row">
              <div class="practice-user-card" data-user-card="1">
                <img id="p1face" class="practice-user-face" alt="Foto piloto 1" />
                <div class="practice-user-main">
                  <div class="practice-user-name" id="p1name">Piloto 1</div>
                  <div class="practice-user-team" id="p1team">Equipe</div>
                  <div class="practice-user-status-line" id="p1info"></div>
                </div>

                <div class="practice-user-actions">
                  <button class="practice-btn btn-small-primary" type="button" onclick="pitStop(1)">PIT STOP</button>
                  <button class="practice-btn btn-small-ghost" type="button" onclick="setMode(1,'eco')">ECONOMIZAR</button>
                  <button class="practice-btn btn-small-ghost" type="button" onclick="setMode(1,'attack')">ATAQUE</button>
                </div>
              </div>

              <div class="practice-user-card" data-user-card="2">
                <img id="p2face" class="practice-user-face" alt="Foto piloto 2" />
                <div class="practice-user-main">
                  <div class="practice-user-name" id="p2name">Piloto 2</div>
                  <div class="practice-user-team" id="p2team">Equipe</div>
                  <div class="practice-user-status-line" id="p2info"></div>
                </div>

                <div class="practice-user-actions">
                  <button class="practice-btn btn-small-primary" type="button" onclick="pitStop(2)">PIT STOP</button>
                  <button class="practice-btn btn-small-ghost" type="button" onclick="setMode(2,'eco')">ECONOMIZAR</button>
                  <button class="practice-btn btn-small-ghost" type="button" onclick="setMode(2,'attack')">ATAQUE</button>
                </div>
              </div>
            </div>

            <div class="practice-controls-row">
              <div class="practice-controls-left">
                <div class="practice-controls-label">VELOCIDADE</div>
                <button class="practice-btn btn-small-ghost speed-btn active" data-speed="1" type="button" onclick="setSpeed(1)">1x</button>
                <button class="practice-btn btn-small-ghost speed-btn" data-speed="2" type="button" onclick="setSpeed(2)">2x</button>
                <button class="practice-btn btn-small-ghost speed-btn" data-speed="4" type="button" onclick="setSpeed(4)">4x</button>
              </div>

              <div class="practice-controls-right">
                <button class="practice-btn btn-small-primary" id="btnGoOficina" type="button">IR PARA OFICINA</button>
                <button class="practice-btn btn-small-ghost" id="btnGoQualy" type="button">AVANÇAR PARA CLASSIFICAÇÃO</button>
              </div>
            </div>
          </div>
        </section>
      </aside>
    </main>
  </div>

  <script src="trackKeyMap.js"></script>
<script src="trackRenderer.js"></script>
<script src="practice.js"></script>
</body>
</html>
